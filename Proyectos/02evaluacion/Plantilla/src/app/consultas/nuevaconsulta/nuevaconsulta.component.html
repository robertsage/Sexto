<div class="card my-5">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-end mb-4">
        <h3 class="mb-0">
          {{ titulo }}
        </h3>
      </div>
      <form [formGroup]="frm_Consultas" (ngSubmit)="grabar()">
        <div class="row">

            <div class="form-group mb-3">
                <label class="form-label" for="fecha_consulta">Fecha de Consulta</label>
                <input formControlName="fecha_consulta" type="date" class="form-control" id="fecha_consulta" />
      
                @if (frm_Consultas.get('fecha_consulta').invalid && frm_Consultas.get('fecha_consulta').touched) {
                  @if (frm_Consultas.get('fecha_consulta').hasError('required')) {
                    <div>
                      <small style="color: red">La Fecha de consulta es requerida</small>
                    </div>
                  }
                }
              </div>

              <div class="form-group mb-3">
                <label class="form-label" for="Descripcion">Descripcion</label>
                <input
                  formControlName="Descripcion"
                  type="text"
                  class="form-control"
                  id="Descripcion"
                  placeholder="Ingrese el nombre del producto"
                />
                <div *ngIf="frm_Consultas.get('Descripcion').invalid && frm_Consultas.get('Descripcion').touched">
                  <small *ngIf="frm_Consultas.get('Descripcion').hasError('required')" style="color: red">
                    La Descripcion es requerido
                  </small>
                </div>
              </div>
      
          <div class="form-group mb-3">
            <label class="form-label" for="Medico">Medico</label>
            <select class="form-control" formControlName="idMedico" id="Medico">
              @for (Medico of listaMedicos; track $index) {
                <option [value]="Medico.idMedicos">{{ Medico.Nombres }}</option>
              }
            </select>
  
            @if (frm_Consultas.get('idMedicos').invalid && frm_Consultas.get('idMedicos').touched) {
              @if (frm_Consultas.get('idMedicos').hasError('required')) {
                <div>
                  <small style="color: red">Debe seleccionar un Medico</small>
                </div>
              }
            }
          </div>
  
  
           
          <div class="form-group mb-3">
            <label class="form-label" for="Paciente">Paciente</label>
            <select class="form-control" formControlName="idPaciente" id="Paciente">
              @for (Paciente of listaPacientes; track $index) {
                <option [value]="Paciente.idPacientes">{{ Paciente.Nombre }} &nbsp;&nbsp; - &nbsp;&nbsp; {{ Paciente.Apellido }}</option>
              }
            </select>
  
            @if (frm_Consultas.get('idPacientes').invalid && frm_Consultas.get('idPacientes').touched) {
              @if (frm_Consultas.get('idPacientes').hasError('required')) {
                <div>
                  <small style="color: red">Debe seleccionar un Paciente</small>
                </div>
              }
            }
          </div>
  
  
  
          <div class="d-grid mt-3">
            <button type="submit" class="btn btn-primary" [disabled]="frm_Consultas.invalid">Grabar</button>
          </div>
        </div>
      </form>
    </div>
  </div>
